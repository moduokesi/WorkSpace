<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--favicon-->
    <link rel="icon" href="assets/images/3D医疗图标.svg" type="image/png" />
    <!--plugins-->
    <link href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
    <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
    <link href="assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />
    <!-- loader-->
    <script src="assets/js/storage.js"></script>
    <!-- Bootstrap CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link href="assets/css/app.css" rel="stylesheet">
    <link href="assets/css/icons.css" rel="stylesheet">
    <!-- Theme Style CSS -->
    <link rel="stylesheet" href="assets/css/dark-theme.css" />
    <link rel="stylesheet" href="assets/css/semi-dark.css" />
    <link rel="stylesheet" href="assets/css/header-colors.css" />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <title>MED-AI</title>
</head>

<style>
    .row{
        position:relative;
    }

    .container {
        width:130%!important;
        margin: 0 auto;
        padding: 0!important;
        /*        border:1px solid #aba5a56b;*/
        box-shadow: 0 0 5px 0px rgba(100, 100, 111, 0.2);
        transform:translateX(-11%);
    }

    .card-body {
        padding:0!important;
    }
    .chat-box {
        flex: 1;
        overflow-y: auto;
        padding: 0;
        height: 80vh;
        /*        background-color: #fff;*/
        /*      border: 1px solid #ccc;*/
    }

    .message {
        position:relative;
        padding: 1.5rem 200px 1.5rem 230px;
        /*        background-color: rgba(136,127,127,0.72);*/
        border: 0 solid #d9d9e3;
        background-color:#f7f7ff;
        font: 16px/1.5 "Helvetica Neue",Helvetica,Arial,"Microsoft Yahei","Hiragino Sans GB","Heiti SC","WenQuanYi Micro Hei",sans-serif;
    }

    .message::before {
        display:block;
        position:absolute;
        content:'A';
        line-height:36px;
        text-align:center;
        top:18px;
        left:175px;
        width:36px;
        height:36px;
        background-color:#d586ae;
    }

    .message::after {
        display:block;
        position:absolute;
        content:'';
        top:18px;
        right:175px;
        width:18px;
        height:18px;
        background-image: url(./assets/icons/star.svg);
        background-size: contain; /* 使用contain值确保图像适应盒子内 */
        background-repeat: no-repeat; /* 防止图像重复显示 */
        background-color:#f7f7ff;
    }

    .other-message {
        position:relative;
        padding: 1.5rem 200px 1.5rem 230px;
        background-color:#fff;
        font: 16px/1.5 "Helvetica Neue",Helvetica,Arial,"Microsoft Yahei","Hiragino Sans GB","Heiti SC","WenQuanYi Micro Hei",sans-serif;
    }

    .other-message::before {
        display:block;
        position:absolute;
        content:'';
        top:18px;
        left:175px;
        width:36px;
        height:36px;
        background-image: url(./assets/icons/ai.svg);
        background-size: contain; /* 使用contain值确保图像适应盒子内 */
        background-repeat: no-repeat; /* 防止图像重复显示 */
        background-color:#E2EDFF;
    }

    .other-message::after {
        display:block;
        position:absolute;
        content:'';
        top:18px;
        right:175px;
        width:18px;
        height:18px;
        background-image: url(./assets/icons/love.svg);
        background-size: contain; /* 使用contain值确保图像适应盒子内 */
        background-repeat: no-repeat; /* 防止图像重复显示 */
        /*        background-color:#f7f7ff;*/
    }

    .input-box {
        position:fixed;
        display: flex;
        /*        margin:0 auto;*/
        bottom:20px;
        right:160px;
        width:60%;
        height:56px;
        z-index:1;
        transform:translateX(-5px);
    }

    input[class="text"] {
        flex: 1;
        padding: 15px 55px 15px 15px;
        border: 1px solid rgba(100, 100, 111, 0.2);
        border-radius: 10px;
        outline:none;
        box-shadow: 0 0 10px 0px rgba(100, 100, 111, 0.2);
    }

    button {
        position:absolute;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        outline:none!important;
        width:30px;
        height:30px;
        right:10px;
        top:13px;
        background-image: url(./assets/icons/button.svg);
        background-size: contain; /* 使用contain值确保图像适应盒子内 */
        background-repeat: no-repeat; /* 防止图像重复显示 */
    }

    .empty {
        height:100px;
    }

    .chatBox {
        max-height:50%;
    }

    .down {
        height:100px;
    }

    /*    .row {*/
    /*        text-align:center;*/
    /*        height:62px;*/
    /*        line-height:62px;*/
    /*        padding-left:46%;*/
    /*        font-size:20px;*/
    /*        background-color:transparent;*/
    /*        transform:translateX(-11%);*/

    .row {
        width:107%;
        height:62px;
        /*        box-shadow: 0 0 10px 0px rgba(100, 100, 111, 0.2);*/
        border:1px solid #aba5a56b;
        border-radius:10px;
        transform:translateX(-1.5%);
    }

    #ai {
        text-align:center;
    }

    .page-content {
        padding-bottom:1px!important;
    }
</style>

<body>
    <div id="page-layout"></div>
    <!--start page wrapper -->
    <div class="page-wrapper">
        <div class="page-content">
            <!--breadcrumb-->
            <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
            <div class="breadcrumb-title pe-3">智能诊断</div>
            <div class="ps-3">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0 p-0">
                        <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">智能诊断</li>
                    </ol>
                </nav>
            </div>
        </div>
            <!--end breadcrumb-->
            <div class="row">
                <div class="col-xl-9 mx-auto">
<!--                    <div class="headai">-->
                        <h5 class="mb-0 text-uppercase" id="ai">AI诊断</h5>
<!--                        <hr />-->
<!--                    </div>-->
<!--                <div class="card" id="mochu">-->
<!--                <div class="card-body">-->
<!--                    <div class="container">-->
<!--                        <div class="chat-box" id="chatBox"></div>-->
<!--                    </div>-->
                </div>
            </div>
<!--            <div class="row">AI诊断</div>-->
        </div>
        <div id="chatBox"></div>
        <div class="down">
            <div class="input-box">
                <input type="text" id="messageInput" placeholder="Type a message..." class="text">
                <button id="sendMessageButton"></button>
            </div>
        </div>
    </div>
<!--    <div class="empty"></div>-->
<!--end page wrapper -->
<!-- 加载边栏资源 -->
<script src="assets/js/jquery.min.js"></script>
<script>
    $(function() {
        $("#page-layout").load("index.html");
    });
</script>
<script>
    const input = document.querySelector('.input-box')
    const text = document.querySelector('.text')
    function inputWidth(){
        const a = window.getComputedStyle(document.querySelector('.mx-auto'));
        input.style.width=a.width;
        input.style.right = a.marginRight;
    }
    //        console.log(a.marginRight);
    //        console.log(document.documentElement.clientWidth);
//    inputWidth();
    window.addEventListener('resize', inputWidth);

    const chatBox = document.getElementById("chatBox");
    const messageInput = document.getElementById("messageInput");
    const sendMessageButton = document.getElementById("sendMessageButton");

    document.documentElement.scrollTop = 87;
    sendMessageButton.addEventListener("click", sendMessage);
    text.addEventListener("keyup", function(e) {
//        console.log(e);
        if (e.keyCode === 13) {
            sendMessage();
        }
    });

    setTimeout(() => {
        appendMessage('请说明您的病况','other-message');
    }, 1000);
    function sendMessage() {
        const message = messageInput.value;
        if (message.trim() !== "") {
            appendMessage(message, "message");
            messageInput.value = "";
            setTimeout(() => {
                appendMessage("This is a reply from the other person.fewa efwafeaf s esf esa f15esa f153sa f35sa 5f1s3a5 f135sa1 f3s51a f156e 1fw5e f156wef 1fe1s5f6aa1sa6ef51saf65f1aes5g4sa f1 sa5efe6 s5a1ge5s g", "other-message");
            }, 1000);
        }
    }

    function appendMessage(text, className) {
        const messageElement = document.createElement("div");
        messageElement.textContent = text;
        messageElement.classList.add(className);
        chatBox.appendChild(messageElement);
        document.documentElement.scrollTop = chatBox.scrollHeight;
    }
</script>
</body>

</html>
